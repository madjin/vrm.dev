<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>VRM – Export</title>
    <link>https://vrm.dev/docs/univrm/export/</link>
    <description>Recent content in Export on VRM</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 06 Aug 2020 12:36:16 +0900</lastBuildDate>
    
	  <atom:link href="https://vrm.dev/docs/univrm/export/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: エクスポートダイアログ</title>
      <link>https://vrm.dev/docs/univrm/export/univrm_export/</link>
      <pubDate>Wed, 08 Jul 2020 00:00:00 +0000</pubDate>
      
      <guid>https://vrm.dev/docs/univrm/export/univrm_export/</guid>
      <description>
        
        
        &lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;用語&lt;/th&gt;
&lt;th&gt;意味&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Root&lt;/td&gt;
&lt;td&gt;エクスポート対象となる一番親のオブジェクト(ひとつだけ)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ヒエラルキー&lt;/td&gt;
&lt;td&gt;Root自身と子孫全部&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;v058&#34;&gt;v0.58~&lt;/h2&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/export062_dialog.png&#34; alt=&#34;vrm export&#34; width=&#34;900&#34; /&gt;

&lt;p&gt;Unityの &lt;a href=&#34;https://docs.unity3d.com/ScriptReference/EditorWindow.html&#34;&gt;EditorWindow&lt;/a&gt; で画面を作成しています。&lt;/p&gt;
&lt;h3 id=&#34;使い方&#34;&gt;使い方&lt;/h3&gt;
&lt;h4 id=&#34;window-を表示する&#34;&gt;Window を表示する&lt;/h4&gt;
&lt;p&gt;以前と同じメニューから表示できます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://vrm.dev/images/vrm/vrm_menu.jpg&#34; alt=&#34;vrm_menu&#34; width=&#34;250&#34; /&gt;

&lt;br&gt;&lt;/p&gt;
&lt;p&gt;前のバージョン：&lt;/p&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/UniVRMExportHumanoid.jpg&#34; alt=&#34;UniVRMExportHumanoid&#34; width=&#34;400&#34; /&gt;

&lt;ul&gt;
&lt;li&gt;シーン側でエクスポート可能なオブジェクトを先に選択する必要が無くなりました&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;対象のオブジェクトをセットする&#34;&gt;対象のオブジェクトをセットする&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Drag&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/export058_drag.gif&#34; alt=&#34;vrm export&#34; width=&#34;600&#34; /&gt;

&lt;ul&gt;
&lt;li&gt;Selector&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/export058_select.gif&#34; alt=&#34;vrm export&#34; width=&#34;600&#34; /&gt;

&lt;h4 id=&#34;exportrootの条件&#34;&gt;ExportRootの条件&lt;/h4&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/export058_empty.jpg&#34; alt=&#34;vrm export&#34; width=&#34;600&#34; /&gt;

&lt;p&gt;ExportRoot が以下の条件を満たすと設定画面が表示されます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Root である(親が無い)&lt;/li&gt;
&lt;li&gt;Root に回転・スケールが無い(移動は可能)&lt;/li&gt;
&lt;li&gt;ヒューマノイドである(Animatorコンポーネントがアタッチしてあり、Humanoid.Avatarがセットしてある)&lt;/li&gt;
&lt;li&gt;Z+向きである(左足と右足のボーン位置から判定)&lt;/li&gt;
&lt;li&gt;ヒエラルキーの中に enable な mesh を含む&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;エクスポート設定画面&#34;&gt;エクスポート設定画面&lt;/h4&gt;
&lt;p&gt;Metaやエクスポートオプションを設定してください。
警告は修正するかしないかを判断して、問題無ければ無視してください。
選択状態のオブジェクトがエクスポート可能であれば、ダイアログ右下の &lt;code&gt;export&lt;/code&gt; ボタンを押すことができるようになります。
VRMモデルのファイルサイズの詳しい内容は&lt;a href=&#34;https://vrm.dev/docs/univrm/export/vrm_size/&#34;&gt;こちら&lt;/a&gt;を参考してください。&lt;/p&gt;
&lt;h2 id=&#34;オプション&#34;&gt;オプション&lt;/h2&gt;
&lt;p&gt;エクスポートのオプションです。
チェックするとエクスポート前に追加の処理を実行します。&lt;/p&gt;
&lt;h3 id=&#34;force-t-pose&#34;&gt;Force T Pose&lt;/h3&gt;
&lt;p&gt;エクスポート前に強制的にT-Poseにします。
手動でだいたいT-Poseに出来た場合は、チェックしなくても問題ありません。&lt;/p&gt;
&lt;h3 id=&#34;pose-freeze&#34;&gt;Pose Freeze&lt;/h3&gt;
&lt;p&gt;モデルを正規化します。
正規化済みのモデルを再正規化する必用はありませんが、正規化されていない部品を追加した場合は必要です。
正規化されているか否かは、ヒエラルキーのすべてのGameObjectの回転が0 スケールが1 であるか否かです。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0.58 では自動でチェックボックスが On/Off されます&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;useexperimentalexporter&#34;&gt;UseExperimentalExporter&lt;/h3&gt;
&lt;p&gt;シリアライザーのバージョン。
どちらでも動作します。&lt;/p&gt;
&lt;h3 id=&#34;usesparseaccessor&#34;&gt;UseSparseAccessor&lt;/h3&gt;
&lt;p&gt;BlendShapeが多数ある場合にファイルサイズを削減できます。&lt;/p&gt;
&lt;h3 id=&#34;onlyblendshapeposition&#34;&gt;OnlyBlendshapePosition&lt;/h3&gt;
&lt;p&gt;BlendShapeのNormal, Tangent をエクスポートしない。
ファイルサイズを削減できます。
UniVRM-0.53 より前のバージョンはインポート時にエラーになるのに注意してください。&lt;/p&gt;
&lt;h3 id=&#34;reduceblendshape&#34;&gt;ReduceBlendshape&lt;/h3&gt;
&lt;p&gt;BlendShapeClip設定から参照されないBlendShapeをエクスポートしない。
ファイルサイズを削減できます。&lt;/p&gt;
&lt;h3 id=&#34;reduceblendshapeclip&#34;&gt;ReduceBlendshapeClip&lt;/h3&gt;
&lt;p&gt;Presetが Unknown であるBlendShapeClipをエクスポートしない。
ReduceBlendshapeと組み合わせて使います。&lt;/p&gt;
&lt;h3 id=&#34;removevertexcolor&#34;&gt;RemoveVertexColor&lt;/h3&gt;
&lt;p&gt;頂点カラーをエクスポートしない。
GLTFには、頂点カラーを含むが使わないという設定がありません。
UniVRMでは、 &lt;code&gt;unlit&lt;/code&gt; のみ頂点カラー対応です。&lt;/p&gt;
&lt;h2 id=&#34;エラー項目&#34;&gt;エラー項目&lt;/h2&gt;
&lt;p&gt;バージョン毎の判定。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;message&lt;/th&gt;
&lt;th&gt;0.56&lt;/th&gt;
&lt;th&gt;0.57&lt;/th&gt;
&lt;th&gt;0.58&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;The Root translation, rotation and scale will be dropped&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;error(移動は可)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Jaw bone&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Same name bone&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;warn(自動リネーム)&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Vertex color&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Unknown shader&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require source&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require no parent&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;error(新規)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require Z+ forward&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;error(新規)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require animator&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require humanoid avatar&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Require Title/Version/Author&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;No active mesh&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Prefab export&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;error&lt;/td&gt;
&lt;td&gt;ok(NO_ACTIVE_MESHだった)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Springbone validation&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;ok&lt;/td&gt;
&lt;td&gt;warn&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;require-source&#34;&gt;Require source&lt;/h3&gt;
&lt;p&gt;エクスポート可能なオブジェクトをシーンで選択してださい&lt;/p&gt;
&lt;h3 id=&#34;require-animator&#34;&gt;Require animator.&lt;/h3&gt;
&lt;p&gt;RootにAnimatorコンポーネントがついていません(ヒューマノイドでない)&lt;/p&gt;
&lt;h3 id=&#34;require-animatoravatar&#34;&gt;Require animator.avatar&lt;/h3&gt;
&lt;p&gt;RootのAnimatorにavatarがありません(ヒューマノイドでない)&lt;/p&gt;
&lt;h3 id=&#34;animatoravatar-is-not-valid&#34;&gt;Animator.avatar is not valid.&lt;/h3&gt;
&lt;p&gt;RootのAnimatorのavatarが正常でない(ヒューマノイドでない)&lt;/p&gt;
&lt;h3 id=&#34;animatoravatar-is-not-humanoid-please-change-models-animationtype-to-humanoid&#34;&gt;Animator.avatar is not humanoid. Please change model&amp;rsquo;s AnimationType to humanoid.&lt;/h3&gt;
&lt;p&gt;RootのAnimatorのavatarがhumanoidでない。FBXのimport設定の rig で humanoidに変更してください&lt;/p&gt;
&lt;h3 id=&#34;require-title&#34;&gt;Require Title.&lt;/h3&gt;
&lt;p&gt;ダイアログのタイトルを入力してください(必須項目)&lt;/p&gt;
&lt;h3 id=&#34;require-version&#34;&gt;Require Version.&lt;/h3&gt;
&lt;p&gt;ダイアログのバージョンを入力してください(必須項目)&lt;/p&gt;
&lt;h3 id=&#34;require-author&#34;&gt;Require Author.&lt;/h3&gt;
&lt;p&gt;ダイアログのAuthorを入力してください(必須項目)&lt;/p&gt;
&lt;h3 id=&#34;no-active-mesh&#34;&gt;No active mesh&lt;/h3&gt;
&lt;p&gt;ヒエラルキーに active なメッシュが含まれていない&lt;/p&gt;
&lt;h3 id=&#34;filename-0-is-too-long&#34;&gt;FileName &amp;lsquo;{0}&amp;rsquo; is too long.&lt;/h3&gt;
&lt;p&gt;material, texture, mesh の名前が長すぎる。
リネームしてください&lt;/p&gt;
&lt;h3 id=&#34;the-root-translation-rotation-and-scale-will-be-dropped&#34;&gt;The Root translation, rotation and scale will be dropped&lt;/h3&gt;
&lt;p&gt;Rootに移動・回転・スケール値が設定されている。
そのままエクスポートした場合、ルートの TRS は無くなります。
移動に関しては問題がない場合が多いと思われますが、回転・スケールに関しては意図したとおりにならないこともありそうなのでご注意ください。&lt;/p&gt;
&lt;h3 id=&#34;jaw-bone-is-included-it-may-not-what-you-intended-please-check-the-humanoid-avatar-setting-screen&#34;&gt;Jaw bone is included. It may not what you intended. Please check the humanoid avatar setting screen&lt;/h3&gt;
&lt;p&gt;humanoid設定に顎が含まれている。
FBXインポート時に意図せずに自動で割り当てられる場合があります。
間違えて、前髪等が顎になっていて顎にポーズが入力した場合に微妙に動く場合があります。
FBX importer の rig 設定に戻って設定を解除することをおすすめします。&lt;/p&gt;
&lt;h3 id=&#34;there-are-bones-with-the-same-name-in-the-hierarchy-they-will-be-automatically-renamed-after-export&#34;&gt;There are bones with the same name in the hierarchy. They will be automatically renamed after export&lt;/h3&gt;
&lt;p&gt;ヒエラルキーの中に同じ名前のGameObjectが含まれている。
エクスポートした場合に自動でリネームする。&lt;/p&gt;
&lt;h3 id=&#34;this-model-contains-vertex-color&#34;&gt;This model contains vertex color&lt;/h3&gt;
&lt;p&gt;ヒエラルキーに含まれる mesh に頂点カラーが含まれている。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;頂点カラー&lt;/th&gt;
&lt;th&gt;含まれている挙動&lt;/th&gt;
&lt;th&gt;挙動&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;UniVRM-0.53以前&lt;/td&gt;
&lt;td&gt;未対応&lt;/td&gt;
&lt;td&gt;含まれているけど無視する挙動&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UniVRM-0.54～&lt;/td&gt;
&lt;td&gt;使う&lt;/td&gt;
&lt;td&gt;含まれているものは使う挙動&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Unlitで頂点カラーが含まれているが使わないという設定がありせん。
必要ない場合は、&lt;code&gt;Remove Vertex Color&lt;/code&gt; オプションで削除できます。&lt;/p&gt;
&lt;h3 id=&#34;unknown-material-0-is-used-this-will-export-as-standard-fallback&#34;&gt;unknown material &amp;lsquo;{0}&amp;rsquo; is used. this will export as &lt;code&gt;Standard&lt;/code&gt; fallback&lt;/h3&gt;
&lt;p&gt;standard, unlit, mtoon 以外のマテリアルは、standard になります。&lt;/p&gt;
&lt;h2 id=&#34;v057&#34;&gt;v0.57&lt;/h2&gt;
&lt;img src=&#34;https://vrm.dev/images/vrm/export_dialog_56.jpg&#34; alt=&#34;vrm export&#34; width=&#34;600&#34; /&gt;

&lt;p&gt;Unityの &lt;a href=&#34;https://docs.unity3d.com/ScriptReference/ScriptableWizard.html&#34;&gt;ScriptableWizard&lt;/a&gt; で画面を作成しています。
v0.58 以降でダイアログを改善予定です。&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: VRMモデルのファイルサイズ</title>
      <link>https://vrm.dev/docs/univrm/export/vrm_size/</link>
      <pubDate>Thu, 13 Aug 2020 00:00:00 +0000</pubDate>
      
      <guid>https://vrm.dev/docs/univrm/export/vrm_size/</guid>
      <description>
        
        
        &lt;p&gt;VRMは、GLB形式なので、&lt;/p&gt;
&lt;p&gt;&lt;code&gt;VRMエクスポートしたファイルのサイズ =&amp;gt; glb のサイズ&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;glb =&amp;gt; json + binary&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;です。&lt;/p&gt;
&lt;p&gt;json はテキストなので通常は 1MB にもなりません。&lt;/p&gt;
&lt;p&gt;binary で主なものは、&lt;/p&gt;
&lt;p&gt;&lt;code&gt;image&lt;/code&gt; と &lt;code&gt;mesh&lt;/code&gt; です。&lt;/p&gt;
&lt;p&gt;5万頂点、5万三角形のモデルを例としてどれくらいの容量になるかを計算する目安を説明します。&lt;/p&gt;
&lt;h2 id=&#34;image&#34;&gt;Image&lt;/h2&gt;
&lt;p&gt;Material が参照する Texture の PNG(JPG) のバイト列がそのまま入っています。
Meta の Thumbnail も対象になります。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;v0.56 でローカルの元ファイルをそのまま使うようにした結果、
元ファイルが巨大であった場合に、以前に比べて大きくなる問題が発生しています。4000x4000のような大きなファイルはPNG(JPG)を縮小してください。v0.58 修正予定。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/vrm-c/UniVRM/issues/502&#34;&gt;https://github.com/vrm-c/UniVRM/issues/502&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;mesh&#34;&gt;Mesh&lt;/h2&gt;
&lt;p&gt;Index バッファ と 頂点バッファです。&lt;/p&gt;
&lt;h3 id=&#34;indexバッファ&#34;&gt;Indexバッファ&lt;/h3&gt;
&lt;p&gt;Indexバッファは、Intの配列を使っています。&lt;/p&gt;
&lt;p&gt;5万三角形のモデルの場合、&lt;/p&gt;
&lt;p&gt;&lt;code&gt;50000 x 4(Int=4byte) x 3(三角形の3頂点) =&amp;gt; 0.6MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GLTFの仕様的には unsigned short も可能ですが、UniVRM のエクスポーターは未対応。65536 頂点までなので 50000 三角形は格納できません。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;頂点バッファ&#34;&gt;頂点バッファ&lt;/h3&gt;
&lt;p&gt;一頂点は、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    float3 Position; // 頂点位置 4(floatサイズ) x 3(xyz) =&amp;gt; 12byte
    float3 Normal; // 頂点法線 4(floatサイズ) x 3(xyz) =&amp;gt; 12byte
    float2 TEXCOORD_0; // 頂点UV 4(floatサイズ) x 2(xy) =&amp;gt; 8byte
    short4 JOINTS_0; // 頂点BoneIndex 2(shortサイズ) x 4(4boneまで) =&amp;gt; 8byte
    float4 WEIGHTS_0; // 頂点Weight 4(floatサイズ) x 4(4boneまで) =&amp;gt; 16byte
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;となっています。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;頂点カラー、2つめのUV(未対応)などバリエーションがありうる。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;GLTFにはTangent(float4)も保存できますが、UniVRMでは保存せずUnityに計算させています。法線とUVから &lt;code&gt;MIKK T Space&lt;/code&gt; アルゴリズムで計算したものを使う仕様です。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;５万頂点のモデルの場合、&lt;/p&gt;
&lt;p&gt;&lt;code&gt;50000 x (12 + 12 + 8 + 8 + 16) =&amp;gt; 2.8MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;h2 id=&#34;基本容量&#34;&gt;基本容量&lt;/h2&gt;
&lt;p&gt;以上、 &lt;code&gt;画像サイズ合計 + インデックスバッファ + 頂点バッファ&lt;/code&gt; の合計がモデルの基本容量になります。
5万頂点、5万三角形のモデルの場合、 &lt;code&gt;3.4MB + 画像サイズ合計&lt;/code&gt; が基本容量になります。
基本容量は計算通りの値になります。
以降、時として容量爆発の原因となるブレンドシェイプの容量についてです。&lt;/p&gt;
&lt;h2 id=&#34;ブレンドシェイプmorphtargetの容量&#34;&gt;ブレンドシェイプ(MorphTarget)の容量&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-ブレンドシェイプ頂点&#34; data-lang=&#34;ブレンドシェイプ頂点&#34;&gt;{
    float3 Position; // 頂点位置 4 x 3 =&amp;gt; 12byte. 必須
    float3 Normal; // 頂点法線 4 x 3 =&amp;gt; 12byte. オプション
    float3 Tangent; // 頂点Tangent 4 x 3 =&amp;gt; 12byte. 記録しない
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ひとつのブレンドシェイプで &lt;code&gt;50000 x (12 + 12) =&amp;gt; 1.2MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;p&gt;20のブレンドシェイプがあったとすると,
&lt;code&gt;50000 x (12 + 12) x 20 =&amp;gt; 24MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;p&gt;60のブレンドシェイプがあると、
&lt;code&gt;50000 x (12 + 12) x 60 =&amp;gt; 72MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;大量のBlendShapeがある&lt;/li&gt;
&lt;li&gt;BlendShapeのある場所と無い場所が分割されていない&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;の条件が揃うと大容量になることに注意してください。
以降、ブレンドシェイプ容量の削減方法についてです。&lt;/p&gt;
&lt;h3 id=&#34;ブレンドシェイプの容量対策&#34;&gt;ブレンドシェイプの容量対策&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://vrm.dev/docs/univrm/export/univrm_export/&#34;&gt;エクスポートダイアログ&lt;/a&gt;
の以下のオプションがブレンドシェイプの容量に関連します。&lt;/p&gt;
&lt;h4 id=&#34;エクスポートオプション&#34;&gt;エクスポートオプション&lt;/h4&gt;
&lt;p&gt;最初の２つは安全にです。３つめは修正中。4つめは、UniVRM-0.53(含む)以前でロードエラーになるバージョン問題があります。&lt;/p&gt;
&lt;h5 id=&#34;reduceblendshape&#34;&gt;ReduceBlendshape&lt;/h5&gt;
&lt;p&gt;BlendShapeClip設定から参照されないBlendShapeをエクスポートしない。
ファイルサイズを削減できます。&lt;/p&gt;
&lt;h5 id=&#34;reduceblendshapeclip&#34;&gt;ReduceBlendshapeClip&lt;/h5&gt;
&lt;p&gt;Presetが Unknown であるBlendShapeClipをエクスポートしない。
ReduceBlendshapeと組み合わせて使います。&lt;/p&gt;
&lt;h5 id=&#34;usesparseaccessor&#34;&gt;UseSparseAccessor&lt;/h5&gt;
&lt;p&gt;BlendShapeが多数ある場合にファイルサイズを削減できます。&lt;/p&gt;
&lt;p&gt;ブレンドシェイプの値が、 &lt;code&gt;0&lt;/code&gt; でない頂点のみを飛び飛びに記録することで容量を削減する GLTF の仕様です。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;修正中: GLTFの互換性の問題があって、UniVRM以外のローダーでエラーになる&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-ブレンドシェイプ頂点&#34; data-lang=&#34;ブレンドシェイプ頂点&#34;&gt;{
    int Index; // 有効なブレンドシェイプの index =&amp;gt; 4
    float3 Position; // 頂点位置 4 x 3 =&amp;gt; 12byte. 必須
    float3 Normal; // 頂点法線 4 x 3 =&amp;gt; 12byte. オプション
    float3 Tangent; // 頂点Tangent 4 x 3 =&amp;gt; 12byte. 記録しない
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;BlendShapeの有効な頂点数 x (12 + 12 + 4) =&amp;gt; ?MB&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;保存方法だけ変わる&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;onlyblendshapeposition&#34;&gt;OnlyBlendshapePosition&lt;/h5&gt;
&lt;p&gt;BlendShapeのNormal, Tangent をエクスポートしない。
ファイルサイズを削減できます。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;UniVRM-0.53 より前のバージョンはインポート時にエラーになるのに注意してください。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;meshutility-で-blendshape-の-あるmesh-と-ないmesh-に分割する&#34;&gt;MeshUtility で BlendShape の あるMesh と ないMesh に分割する&lt;/h4&gt;
&lt;p&gt;例えば、顔(BlendShapeあり)が 10000 頂点、体(BlendShapeなし)が 40000 頂点に分割されていると、&lt;/p&gt;
&lt;p&gt;ひとつのブレンドシェイプで &lt;code&gt;10000 x (12 + 12) =&amp;gt; 0.24MB&lt;/code&gt; の容量を使います。&lt;/p&gt;
&lt;p&gt;分割前の一体型のモデル&lt;/p&gt;
&lt;p&gt;&lt;code&gt;50000 x (12 + 12) =&amp;gt; 1.2MB&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;に比べて容量を節約できます。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ランタイムにも良い可能性があるが、ドローコールは増えるかもしれないのでトレードオフがある&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://vrm.dev/docs/univrm/gltf/mesh_utility/&#34;&gt;Mesh Utility&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;予想より大容量になってしまうときはブレンドシェイプ、次に画像に注意してください。&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
